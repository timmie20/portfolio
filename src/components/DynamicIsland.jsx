import React, { useState, useEffect } from "react";

const DynamicIsland = () => {
  const [showComponent, setShowComponent] = useState(false);

  useEffect(() => {
    const handleShowNav = () => {
      const viewportHeight = window.scrollY;
      setShowComponent(viewportHeight >= 780 ? true : false);
    };

    window.addEventListener("scroll", handleShowNav);
    handleShowNav();

    return () => window.removeEventListener("scroll", handleShowNav);
  }, []);

  return (
    <>
      {showComponent && (
        <div className="fixed inset-x-0 top-5 z-10 mx-auto flex w-[60%] max-w-[300px] items-center justify-center gap-8 rounded-full border-white/30 border-opacity-30 bg-white/30 p-2 opacity-90 shadow-2xl backdrop-blur-xl md:gap-10">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 32 32"
            width="26px"
            height="26px"
            className="island_icons"
          >
            <path d="M28.447,11.583c-0.18-1.417-1.257-2.871-2.817-3.797c-1.425-0.832-2.82-1.674-4.167-2.487	c-1.407-0.85-2.763-1.667-4.045-2.41c-0.834-0.484-1.791-0.49-2.626-0.02c-1.409,0.794-2.904,1.682-4.46,2.604	C9.057,6.231,7.741,7.013,6.391,7.791c-1.572,0.92-2.66,2.38-2.84,3.812c-0.479,3.857-0.266,7.769,0.638,11.644	c0.502,1.978,2.587,4.092,4.572,4.623c2.402,0.592,4.82,0.888,7.239,0.888s4.837-0.296,7.239-0.888	c0.006-0.001,0.013-0.003,0.019-0.005c1.967-0.526,4.052-2.641,4.558-4.637C28.716,19.366,28.929,15.449,28.447,11.583z M20.115,25.303c-0.107,0.681-0.635,1.233-1.321,1.302c-1.856,0.188-3.714,0.189-5.567,0.004c-0.686-0.069-1.215-0.621-1.322-1.302	c-0.325-2.069-0.24-4.138,0.255-6.208c0.154-0.641,0.647-1.154,1.267-1.38c1.722-0.628,3.443-0.628,5.165,0	c0.62,0.226,1.113,0.739,1.267,1.38C20.355,21.167,20.44,23.235,20.115,25.303z" />
          </svg>

          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 32 32"
            width="26px"
            height="26px"
          >
            <path d="M 16 3 C 12.953 3 10.384453 4.9181719 9.6894531 7.5761719 C 8.7224531 7.6731719 7.7579219 7.7857344 6.7949219 7.9277344 C 4.8099219 8.2197344 3.2303906 9.6313438 2.7753906 11.527344 C 1.7443906 15.822344 1.7443906 20.177656 2.7753906 24.472656 C 3.2303906 26.368656 4.8089219 27.782219 6.7949219 28.074219 C 9.8489219 28.523219 12.924 28.748047 16 28.748047 C 19.076 28.748047 22.151078 28.523219 25.205078 28.074219 C 27.190078 27.782219 28.769609 26.368656 29.224609 24.472656 C 30.254609 20.177656 30.254609 15.822344 29.224609 11.527344 C 28.769609 9.6313438 27.191078 8.2177812 25.205078 7.9257812 C 24.242078 7.7837812 23.277547 7.6731719 22.310547 7.5761719 C 21.615547 4.9191719 19.046 3 16 3 z M 16 5 C 17.838 5 19.410422 5.9745312 20.107422 7.3945312 C 17.371422 7.2165313 14.628578 7.2165313 11.892578 7.3945312 C 12.589578 5.9745313 14.161 5 16 5 z M 16 9.2539062 C 18.979 9.2539062 21.957062 9.4702969 24.914062 9.9042969 C 25.870062 10.045297 26.685938 10.644984 27.085938 11.458984 C 27.257938 11.808984 27.243406 12.232078 27.066406 12.580078 C 25.715406 15.245078 23.218094 17.339703 20.121094 18.345703 C 20.288094 19.466703 20.060641 20.596453 19.431641 21.689453 C 19.319641 21.884453 19.1455 22.035141 18.9375 22.119141 C 17.9625 22.509141 16.981 22.703125 16 22.703125 C 15.019 22.703125 14.0375 22.508141 13.0625 22.119141 C 12.8545 22.036141 12.680359 21.884453 12.568359 21.689453 C 11.940359 20.599453 11.711953 19.470562 11.876953 18.351562 C 8.7869531 17.346563 6.2875938 15.246172 4.9335938 12.576172 C 4.7565938 12.227172 4.7430156 11.804125 4.9160156 11.453125 C 5.3170156 10.641125 6.1319375 10.044297 7.0859375 9.9042969 C 10.043937 9.4692969 13.021 9.2539062 16 9.2539062 z M 16 17.119141 A 2.567 1.934 0 1 0 16 20.986328 A 2.567 1.934 0 1 0 16 17.119141 z" />
          </svg>

          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 32 32"
            width="26px"
            height="26px"
          >
            <path d="M15.961,3.543c-4.27,0-8.25,1.539-10.919,4.221C2.051,10.77,1.26,15.103,2.814,19.967c0.76,2.376,2.266,5.717,5.129,8.139	c0.226,0.189,0.504,0.283,0.782,0.283c0.29,0,0.58-0.103,0.807-0.309c0.642-0.583,1.27-1.412,1.907-2.524	c1.454,0.4,2.971,0.603,4.522,0.603c7.72,0,14-5.073,14-11.308S23.681,3.543,15.961,3.543z" />
          </svg>
        </div>
      )}
    </>
  );
};

export default DynamicIsland;
